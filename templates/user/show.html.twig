{% extends 'base.html.twig' %}

{% block title %}User{% endblock %}

{% block body %}
    <h1>User</h1>

    <table class="table">
        <tbody>
            {% if app.user and app.user.id == user.id or is_granted('ROLE_ADMIN') %}
                <tr>
                    <th>Email</th>
                    <td>{{ user.email }}</td>
                </tr>
            {% endif %}
            <tr>
                <th>Pseudo</th>
                <td>{{ user.pseudo }}</td>
            </tr>
            <tr>
                <th>Nickname</th>
                <td>{{ user.nickname }}</td>
            </tr>
            <tr>
                <th>PrizeList</th>
                <td>{{ user.prizeList }}</td>
            </tr>
            <tr>
                <th>Photo de profil</th>
                <td>
                    {% if user.profilePicture %}
                        <img src="{{ asset('upload/'~user.profilePicture) }}" height="100">
                        {% if app.user %}
                            {% if app.user == user or is_granted('ROLE_ADMIN') %}
                                <a href="{{ path('app_user_edit_picture', {'id': user.id}) }}"><button type="button" class="btn btn-warning"><p class="text-light">Modifier ma photo de profil</p></button></a>
                            {% endif %}
                        {% endif %}
                    {% else%}
                        <img src="https://i.pinimg.com/280x280_RS/35/a1/e6/35a1e6d69cf6924b6076d864a5d39e95.jpg" alt="Pas de photo" height="100">
                            {% if app.user %}
                            {% if app.user.id == user.id or is_granted('ROLE_ADMIN') %}
                                <a href="{{ path('app_user_edit_picture', {'id': user.id}) }}"><button type="button" class="btn btn-warning"><p class="text-light">Ajouter une photo de profil</p></button></a>
                            {% endif %}
                            {% endif %}
                    {% endif %}
                </td>
            </tr>
        </tbody>
    </table>
    {% if app.user %}
        {% if app.user.id == user.id or is_granted('ROLE_ADMIN') %}
             <a href="{{ path('app_user_edit', {'id': user.id}) }}">edit</a>
            {{ include('user/_delete_form.html.twig',{'button_label': 'Supprimer le compte'}) }}
        {% endif %}
    {% endif %}


{% endblock %}
